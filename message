Updating from 785290836bb48c2e521a40145b0c11213b44019e to e126e82c790f6bba8f53046195628107791f4a00

Alyssa Rosenzweig (1):
      nir/lower_idiv: Optimize idiv sign calculation

Connor Abbott (4):
      tu: Don't use pipeline layout to emit shared const enable
      tu: Rework dynamic offset handling
      tu: Make filling out tu_program_state not depend on the pipeline
      tu: Move shader linking to tu_shader.cc

Dave Airlie (1):
      nvk/xfb: set correct counter buffer for writing stream out counters.

Eric Engestrom (18):
      freedreno/ci: add flake seen on a630
      freedreno/ci: add more flakes seen on a630
      freedreno/ci: add more a630 flakes
      v3d: drop leftover from "move v3d_tiling to common"
      radeonsi/ci: track changes to `vpelib`
      turnip: update symbols that have become aliases for newer ones
      util/blob: fix trivial typo
      ci: explain what we mean by the various types of pipelines
      ci: turn comment into code in `sanity` job rules
      ci: identify merge request pipelines using `$CI_PIPELINE_SOURCE == merge_request_event` instead of `$CI_COMMIT_BRANCH` being missing
      ci: rename is-pre-merge-for-marge to is-merge-attempt to be clearer
      ci: drop containers, builds, and tests from post-merge pipeline
      ci: add pipeline for direct pushes to main
      ci: give an explicit priority to the scheduled nightly pipelines
      ci: clean up pre-merge and fork pipelines rules
      ci: make sure pre-merge pipelines have the same jobs as merge pipelines
      ci: improve comments
      ci: take microsoft farm offline

Faith Ekstrand (17):
      dxil: Use mesa_prim consistently
      glsl: Properly remap GL_* to MESA_PRIM
      intel/vec4: Use MESA_PRIM_* instead of GL_*
      nir: Return a mesa_prim from gs_in_prim_for_topology
      compiler: Fix a comment
      radeonsi: Drop an unnecessary cast
      nvk: Advertise VK_EXT_scalar_block_layout
      nak: Advertise subgroupBroadcastDynamicId
      nak: Add a B32 source type
      nak: Rework the OpIAdd3/OpIAdd3X split
      nak/legalize: Handle the src0/1 source mod condition for OpIAdd3X
      nak: Legalize immediates with source modifiers
      nak: Implement uadd_sat
      nak: Implement usub_sat
      nvk: Implement VK_EXT_texel_buffer_alignment
      spirv: Plumb variable alignments through to NIR
      nir: Respect variable alignments in lower_vars_to_explicit_types

Jesse Natalie (2):
      microsoft/clc: Fix images with multiple derefs for real
      microsoft/clc: Add a test which sinks image derefs

JosÃ© Roberto de Souza (2):
      intel: Sync xe_drm.h take 2 part 3
      intel/isl: Set mocs.blitter_dst/src for MTL

Juan A. Suarez Romero (1):
      v3d: include the revision in the device name

Karol Herbst (2):
      clc: allow debug flag to be read from other files
      clc: add dump_llvm debug options

Lionel Landwerlin (2):
      vulkan/runtime: retain video session creation flags
      anv/video: only report matching memory types for protected sessions

Paulo Zanoni (4):
      anv/sparse: reject binds that are not a multiple of the granularity
      anv/tr-tt: assert the bind size is a multiple of the granularity
      anv/sparse: check if the non-sparse version is supported first
      anv/sparse: document USAGE_2D_3D_COMPATIBLE as non-standard too

Qiang Yu (1):
      aco: fix set_wqm segfault when ps prolog

Rhys Perry (7):
      aco: insert p_end_wqm before p_jump_to_epilog
      nir/loop_analyze: skip if basis/limit/comparison is vector
      nir/loop_analyze: scalarize try_eval_const_alu
      nir/loop_analyze: fix vector basis/limit/comparison
      nir/loop_analyze: check min compatibility with comparison
      nir/loop_analyze: support umin and {u,i,f}max
      nir/loop_analyze: support loops with min/max and non-add incrementation

Rohan Garg (1):
      iris: Emit EXECUTE_INDIRECT_DRAW when available

Ryan Neph (5):
      virgl: implemement resource_get_param() for modifier query
      venus: add VN_PERF=no_tiled_wsi_image
      venus: strip ALIAS_BIT for WSI image creation on ANV
      venus: reject multi-plane modifiers for tiled wsi images
      venus: add dri option to enable multi-plane wsi modifiers

Sagar Ghuge (1):
      blorp: Handle stencil buffer compression on blitter engine

Samuel Pitoiset (15):
      radv: set combinedImageSamplerDescriptorCount to 1 for multi-planar formats
      radv: switch to on-demand PS epilogs for GPL
      radv: remove unused code for compiling PS epilogs as part of pipelines
      aco: export depth/stencil/samplemask in create_fs_jump_to_epilog()
      ac/nir: add an option to skip MRTZ exports in ac_nir_lower_ps()
      radv: determine if MRTZ needs to be exported via PS epilogs
      radv: prepare the PS epilog key for exporting MRTZ on RDNA3
      radv,aco: declare PS epilog VGPR arguments for depth/stencil/samplemask
      radv: determine and emit SPI_SHADER_Z_FORMAT for PS epilogs
      zink/ci: remove skipped tests from the list of expected failures for NAVI31
      radv: export MRTZ via PS epilogs when alpha to coverage is dynamic on GFX11
      radv: enable extendedDynamicState3AlphaToCoverageEnable on GFX11
      zink/ci: skip more tests that run OOM on NAVI31
      zink/ci: update list of failures for NAVI31
      zink/ci: stop running zink-radv-navi31-valve sequentially

Sil Vilerino (32):
      pipe: Support inserting new headers on each H264/HEVC IDR frame
      pipe: Add get_feedback_fence for encode async waiting on pipe_feedback_fence
      pipe: Add fence_get_win32_handle to get HANDLE from pipe_fence_handle
      pipe: Add p_video_codec.get_encode_headers for out of band VPS, SPS, PPS
      pipe: Add PIPE_VIDEO_FEEDBACK_METADATA_TYPE_AVERAGE_FRAME_QP
      pipe: Add PIPE_VIDEO_CAP_ENC_H264_SUPPORTS_CABAC_ENCODE
      pipe: Add PIPE_H264_MAX_REFERENCES
      frontend/va: Add h264 encode ip_period param
      frontend/va: Add VACodedBufferSegment Average QP metadata
      frontend/va: Use p_video_codec.get_feedback_fence to report errors on frame submission
      vl_winsys_win32: call winsys->destroy(winsys) in error conditions
      d3d12: Implement inserting optional new headers on each H264/HEVC IDR frame
      d3d12: Do not increase active_seq_parameter_set_id on new SPS. Force PPS on new SPS
      d3d12: H264 encode - Allow CONSTRAINED_BASELINE profile to be written in headers
      d3d12: Implement get_feedback_fence for encode async waiting on pipe_feedback_fence
      d3d12: Implement fence_get_win32_handle to get HANDLE from d3d12_fence
      d3d12: Only pass texture dimensions to d3d12_video_encoder_update_current_encoder_config_state
      d3d12: Implement d3d12_video_encoder_get_encode_headers for out of band VPS, SPS, PPS
      d3d12: Use new pipe h264 encode ip_period param
      d3d12: max_frame_poc workaround for infinite GOPs
      d3d12: Fix max slice size and max frame size metadata reporting
      d3d12: Implement PIPE_VIDEO_FEEDBACK_METADATA_TYPE_AVERAGE_FRAME_QP
      d3d12: Autodetect d3d12_video_buffer imported handle/resource format and dimensions when not passed
      d3d12: Implement PIPE_VIDEO_CAP_ENC_H264_SUPPORTS_CABAC_ENCODE
      d3d12: Detect imported resource buffer unknown format
      d3d12: Improve error detection and reporting for video encoder
      d3d12: Fix d3d12_tcs_variant_cache_destroy leak in d3d12_context
      d3d12: Fix screen->winsys leak in d3d12_screen
      d3d12: d3d12_create_fence_win32 - Fix double refcount bump
      d3d12: Fix max reference frames reporting when HW does not support B frame
      d3d12: Video Encoder - When setting rate control dirty flags take into account rolled back optional configs
      d3d12: Video Encoder: Support reporting non contiguous NALU, offsets for frontend extraction

jphuang (1):
      dzn: Change dst image layout according to aspect

